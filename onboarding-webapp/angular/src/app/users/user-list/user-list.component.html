<div class="container-fluid bg-faded">
  <div class="container">
    <div class="d-flex py-3">
      <h4 class="mb-0 mr-auto align-self-center">All Users</h4>
      <button (click)="refreshUserList()" class="btn btn-link btn-sm mr-2" type="button"><i
          class="fas fa-redo fa-xs mr-1"></i>Refresh Users</button>
      <button class="btn btn-primary shadow-sm" type="button" routerLink="/create-user"><i class="fas fa-plus fa-xs"
          style="margin-right:6px;"></i>Create a User</button>
    </div>
  </div>
</div>
<div class="container py-3">
  <div class="mb-3 shadow-sm user-search color-text-light" style="border-radius:4px;"><i class="fas fa-search fa"></i>
    <input class="form-control border-0" type="text" placeholder="Search by username, first name, last name, or ID " aria-label="Search"
      [(ngModel)]="searchText">
  </div>
  <div class="card card-shadow">
    <table class="table m-0 table-sm user-list table-hover" #userList>
      <thead>
        <tr>
          <th scope="col">Username</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users | searchFilter : searchText" (click)="navigateToUser(user)">
          <ng-container *ngIf="user != -1">
            <td class="align-middle">{{ user.username}}</td>
            <td class="align-middle">{{ user.firstName }}</td>
            <td class="align-middle">{{ user.lastName }}</td>
            <td class="align-middle">
              <div class="btn-group btn-group-sm" role="group"><button
                  (click)="editUser(user); $event.stopPropagation()" type="button"
                  class="btn btn-link p-2 color-text"><i class="far fa-edit"></i></button><button
                  (click)="confirmDelete(user); $event.stopPropagation()" type="button"
                  class="btn btn-link p-2 color-text"><i class="fas fa-trash-alt"></i></button>
              </div>
            </td>
          </ng-container>
          <ng-container *ngIf="user == -1">
            <td class="align-middle text-center p-5 text-center" colspan="4">No results for "<span class = "no-results-text align-bottom">{{searchText}}</span>"</td>
          </ng-container>
        </tr>
      </tbody>
    </table>
    <div *ngIf="!users?.length" class="text-center p-5">
      <h4>No Users Found</h4>
      <p style="font-size:13px;">There are currently no users in the database.</p>
    </div>
  </div>
</div>